### YamlMime:AzureCLIGroup
uid: az_vm_secret
name: az vm secret
summary: Verwalten von VM-Geheimnissen.
description: ''
directCommands:
- uid: az_vm_secret_add
  name: az vm secret add
  summary: Fügen Sie einem virtuellen Computer einen geheimen Schlüssel hinzu.
  description: ''
  syntax: >-
    az vm secret add --certificate
                     --keyvault
                     [--certificate-store]
                     [--ids]
                     [--name]
                     [--resource-group]
                     [--subscription]
  examples:
  - summary: Fügen Sie einem virtuellen Computer einen geheimen Schlüssel hinzu. automatisch generierten
    syntax: az vm secret add --certificate {certificate} --keyvault {keyvault} --name MyVirtualMachine --resource-group MyResourceGroup
  requiredParameters:
  - isRequired: true
    name: --certificate
    summary: Key Vault-Zertifikats Name oder die URL des vollständigen Geheimnisses.
    description: ''
  - isRequired: true
    name: --keyvault
    summary: Der Name oder die ID des Schlüssel Tresors.
    description: ''
  optionalParameters:
  - name: --certificate-store
    summary: 'Windows-Zertifikat Speicher Namen. Standardwert: My.'
    description: ''
  - name: --ids
    summary: Mindestens eine Ressourcen-ID (durch Leerzeichen getrennt). Dabei sollte es sich um eine vollständige Ressourcen-ID handeln, die alle Informationen von Ressourcen-ID-Argumenten enthält. Sie sollten entweder--IDs oder andere Ressourcen-ID-Argumente angeben.
    description: ''
  - name: --name -n
    summary: Der Name des virtuellen Computers. Sie können den Standard mit konfigurieren `az configure --defaults vm=<name>` .
    description: ''
  - name: --resource-group -g
    summary: Name der Ressourcengruppe Sie können die Standardgruppe mit `az configure --defaults group=<name>` konfigurieren.
    description: ''
  - name: --subscription
    summary: Der Name oder die ID des Abonnements. Sie können das Standard Abonnement mit konfigurieren `az account set -s NAME_OR_ID` .
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vm_secret_format
  name: az vm secret format
  summary: Transformieren Sie Geheimnisse in ein Formular, das von VMS und vmsses verwendet werden kann.
  description: ''
  syntax: >-
    az vm secret format --secrets
                        [--certificate-store]
                        [--keyvault]
                        [--resource-group]
                        [--subscription]
  examples:
  - summary: Erstellen Sie ein selbst signiertes Zertifikat mit der Standard Richtlinie, und fügen Sie es einem virtuellen Computer hinzu.
    syntax: >-
      az keyvault certificate create --vault-name vaultname -n cert1 \
        -p "$(az keyvault certificate get-default-policy)"

      secrets=$(az keyvault secret list-versions --vault-name vaultname \
        -n cert1 --query "[?attributes.enabled].id" -o tsv)

      vm_secrets=$(az vm secret format -s "$secrets")

      az vm create -g group-name -n vm-name --admin-username deploy  \
        --image debian --secrets "$vm_secrets"
  requiredParameters:
  - isRequired: true
    name: --secrets -s
    summary: Durch Leerzeichen getrennte Liste der geheimen Schlüssel für Key Vault-URIs. Möglicherweise erstellt von "AZ keyvault Secret List-Versions--Vault-Name vaultname-n cert1--Query" [? Attribute. aktivierte]. ID "-o TSV".
    description: Der Befehl versucht, die Tresor-ID für jeden geheimen Schlüssel aufzulösen. Wenn dies nicht möglich ist, geben Sie die Tresor-ID an, die für *alle* geheimen Schlüssel verwendet werden soll, indem Sie Folgendes verwenden:--keyvault-Name--Resource-Group Name | --keyvault-ID.
  optionalParameters:
  - name: --certificate-store
    summary: 'Windows-Zertifikat Speicher Namen. Standardwert: My.'
    description: ''
  - name: --keyvault
    summary: Der Name oder die ID des Schlüssel Tresors.
    description: ''
  - name: --resource-group -g
    summary: Name der Ressourcengruppe Sie können die Standardgruppe mit `az configure --defaults group=<name>` konfigurieren.
    description: ''
  - name: --subscription
    summary: Der Name oder die ID des Abonnements. Sie können das Standard Abonnement mit konfigurieren `az account set -s NAME_OR_ID` .
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vm_secret_list
  name: az vm secret list
  summary: Auflisten von geheimen Schlüsseln auf einem virtuellen Computer
  description: ''
  syntax: >-
    az vm secret list --name
                      --resource-group
                      [--query-examples]
                      [--subscription]
  examples:
  - summary: Auflisten von geheimen Schlüsseln auf einem virtuellen Computer automatisch generierten
    syntax: az vm secret list --name MyVirtualMachine --resource-group MyResourceGroup
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: Der Name des virtuellen Computers. Sie können den Standard mit konfigurieren `az configure --defaults vm=<name>` .
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name der Ressourcengruppe Sie können die Standardgruppe mit `az configure --defaults group=<name>` konfigurieren.
    description: ''
  optionalParameters:
  - name: --query-examples
    summary: Empfehlen Sie die jmespath-Zeichenfolge für Sie. Sie können eine der Abfragen kopieren und Sie nach dem Abfrage Parameter in doppelte Anführungszeichen einfügen, um die Ergebnisse anzuzeigen. Sie können ein oder mehrere Positions Schlüsselwörter hinzufügen, um Vorschläge auf der Grundlage dieser Schlüsselwörter zu geben.
    description: ''
  - name: --subscription
    summary: Der Name oder die ID des Abonnements. Sie können das Standard Abonnement mit konfigurieren `az account set -s NAME_OR_ID` .
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vm_secret_remove
  name: az vm secret remove
  summary: Entfernen eines Geheimnisses von einem virtuellen Computer
  description: ''
  syntax: >-
    az vm secret remove --keyvault
                        [--certificate]
                        [--ids]
                        [--name]
                        [--resource-group]
                        [--subscription]
  requiredParameters:
  - isRequired: true
    name: --keyvault
    summary: Der Name oder die ID des Schlüssel Tresors.
    description: ''
  optionalParameters:
  - name: --certificate
    summary: Key Vault-Zertifikats Name oder die URL des vollständigen Geheimnisses.
    description: ''
  - name: --ids
    summary: Mindestens eine Ressourcen-ID (durch Leerzeichen getrennt). Dabei sollte es sich um eine vollständige Ressourcen-ID handeln, die alle Informationen von Ressourcen-ID-Argumenten enthält. Sie sollten entweder--IDs oder andere Ressourcen-ID-Argumente angeben.
    description: ''
  - name: --name -n
    summary: Der Name des virtuellen Computers. Sie können den Standard mit konfigurieren `az configure --defaults vm=<name>` .
    description: ''
  - name: --resource-group -g
    summary: Name der Ressourcengruppe Sie können die Standardgruppe mit `az configure --defaults group=<name>` konfigurieren.
    description: ''
  - name: --subscription
    summary: Der Name oder die ID des Abonnements. Sie können das Standard Abonnement mit konfigurieren `az account set -s NAME_OR_ID` .
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
commands:
- az_vm_secret_add
- az_vm_secret_format
- az_vm_secret_list
- az_vm_secret_remove
globalParameters:
- name: --debug
  summary: Ausführlichkeit der Protokollierung erhöhen, um alle Debugprotokolle anzuzeigen.
- name: --help -h
  summary: Zeigen Sie diese Hilfemeldung an, und schließen Sie sie.
- name: --only-show-errors
  summary: Nur Fehler anzeigen und Warnungen unterdrücken.
- name: --output -o
  defaultValue: json
  parameterValueGroup: json, jsonc, table, tsv
  summary: Ausgabeformat.
- name: --query
  summary: JMESPath-Abfragezeichenfolge. Weitere Informationen und Beispiele finden Sie unter <a href="http://jmespath.org/">http://jmespath.org/</a>.
- name: --verbose
  summary: Ausführlichkeit der Protokollierung erhöhen. „--debug“ für vollständige Debugprotokolle verwenden.
metadata:
  doc_source_url_repo: https://github.com/Azure/azure-cli/blob/dev/
  ms.date: 04/02/2021
  description: Verwalten von VM-Geheimnissen.
  ms.openlocfilehash: c0679d82d9f6a3beb6e88f38639aa8d09028239c
  ms.sourcegitcommit: 612554c029ba1f28d3a43fd22e743104a1a30ea0
  ms.translationtype: MT
  ms.contentlocale: de-DE
  ms.lasthandoff: 04/07/2021
  ms.locfileid: "106807863"
