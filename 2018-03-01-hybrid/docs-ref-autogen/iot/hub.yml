### YamlMime:AzureCLIGroup
uid: az_iot_hub
name: az iot hub
extensionInformation: >-
  > [!Note]

  > Dieser Verweis ist Teil der **Erweiterung azure-iot** für Azure CLI und erfordert Version 2.0.70 oder höher.  Die Erweiterung wird automatisch installiert, wenn Sie zum ersten Mal den **Befehl az iot hub** ausführen.  [Weitere Informationen zu Erweiterungen](https://docs.microsoft.com/en-us/cli/azure/azure-cli-extensions-overview)
summary: Verwalten von Entitäten in einer Azure IoT Hub-Instanz
description: ''
directCommands:
- uid: az_iot_hub_generate-sas-token
  name: az iot hub generate-sas-token
  summary: Generieren Sie ein SAS-Token für ein zielbasiertes IoT Hub, Gerät oder Modul.
  description: Bei Geräte-SAS-Token wird der Richtlinienparameter nur für den Zugriff auf die Geräteregistrierung verwendet. Daher sollte die Richtlinie über Lesezugriff auf die Registrierung verfügen. Bei IoT Hub Token ist die Richtlinie Teil der SAS.
  syntax: >-
    az iot hub generate-sas-token [--device-id]
                                  [--du]
                                  [--hub-name]
                                  [--key-type {primary, secondary}]
                                  [--login]
                                  [--module-id]
                                  [--pn]
                                  [--resource-group]
  examples:
  - summary: Generieren Sie IoT Hub SAS-Token mithilfe der iothubowner-Richtlinie und des Primärschlüssels.
    syntax: az iot hub generate-sas-token -n {iothub_name}
  - summary: Generieren Sie ein IoT Hub SAS-Token mithilfe der RegistryRead-Richtlinie und des sekundären Schlüssels.
    syntax: az iot hub generate-sas-token -n {iothub_name} --policy registryRead --key-type secondary
  - summary: Generieren Sie ein Geräte-SAS-Token mithilfe der iothubowner-Richtlinie für den Zugriff auf die {iothub_name}-Geräteregistrierung.
    syntax: az iot hub generate-sas-token -d {device_id} -n {iothub_name}
  - summary: Generieren eines Geräte-SAS-Tokens mithilfe IoT Hub Verbindungszeichenfolge (mit Registrierungszugriff)
    syntax: az iot hub generate-sas-token -d {device_id} --login 'HostName=myhub.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=12345'
  optionalParameters:
  - name: --device-id -d
    summary: Zielgerät.
    description: ''
  - name: --du --duration
    defaultValue: "3600"
    summary: Gültige Tokendauer in Sekunden.
    description: ''
  - name: --hub-name -n
    summary: IoT Hub Name.
    description: ''
  - name: --key-type --kt
    defaultValue: primary
    parameterValueGroup: primary, secondary
    summary: Schlüsseltyp der Richtlinie für gemeinsamen Zugriff für die Authentifizierung.
    description: ''
  - name: --login -l
    summary: Dieser Befehl unterstützt eine Entitätsverbindungszeichenfolge mit Rechten zum Ausführen von Aktionen. Verwenden Sie , um die Sitzungsanmeldung über "az login" zu vermeiden. Wenn sowohl eine Entitätsverbindungszeichenfolge als auch ein Name angegeben werden, hat die Verbindungszeichenfolge Priorität.
    description: ''
  - name: --module-id -m
    summary: Zielmodul.
    description: ''
  - name: --pn --policy-name
    defaultValue: iothubowner
    summary: Shared Access-Richtlinie mit Vorgangsberechtigungen für die IoT Hub Entität.
    description: ''
  - name: --resource-group -g
    summary: Name der Ressourcengruppe Sie können die Standardgruppe mit `az configure --defaults group=<name>` konfigurieren.
    description: ''
- uid: az_iot_hub_invoke-device-method
  name: az iot hub invoke-device-method
  summary: Rufen Sie eine Gerätemethode auf.
  description: ''
  syntax: >-
    az iot hub invoke-device-method --device-id
                                    --method-name
                                    [--hub-name]
                                    [--login]
                                    [--method-payload]
                                    [--resource-group]
                                    [--timeout]
  examples:
  - summary: Rufen Sie eine direkte Methode auf dem Gerät aus der Cloud auf.
    syntax: az iot hub invoke-device-method --hub-name {iothub_name} --device-id {device_id} --method-name Reboot --method-payload '{"version":"1.0"}'
  requiredParameters:
  - isRequired: true
    name: --device-id -d
    summary: Zielgerät.
    description: ''
  - isRequired: true
    name: --method-name --mn
    summary: Zielmethode für den Aufruf.
    description: ''
  optionalParameters:
  - name: --hub-name -n
    summary: IoT Hub Name.
    description: ''
  - name: --login -l
    summary: Dieser Befehl unterstützt eine Entitätsverbindungszeichenfolge mit Berechtigungen zum Ausführen von Aktionen. Verwenden Sie , um die Sitzungsanmeldung über "az login" zu vermeiden. Wenn sowohl eine Entitätsverbindungszeichenfolge als auch ein Name angegeben werden, hat die Verbindungszeichenfolge Priorität.
    description: ''
  - name: --method-payload --mp
    defaultValue: '{}'
    summary: Json-Nutzlast, die an die -Methode übergeben werden soll. Muss dateipfad oder unformatierte JSON-Datei sein.
    description: ''
  - name: --resource-group -g
    summary: Name der Ressourcengruppe Sie können die Standardgruppe mit `az configure --defaults group=<name>` konfigurieren.
    description: ''
  - name: --timeout --to
    defaultValue: "30"
    summary: Maximale Anzahl von Sekunden, die auf das Ergebnis der Gerätemethode gewartet werden soll.
    description: ''
- uid: az_iot_hub_invoke-module-method
  name: az iot hub invoke-module-method
  summary: Rufen Sie eine Edge-Modulmethode auf.
  description: ''
  syntax: >-
    az iot hub invoke-module-method --device-id
                                    --method-name
                                    --module-id
                                    [--hub-name]
                                    [--login]
                                    [--method-payload]
                                    [--resource-group]
                                    [--timeout]
  examples:
  - summary: Rufen Sie eine direkte Methode auf einem Edgegerät mithilfe eines Moduls aus der Cloud auf.
    syntax: "az iot hub invoke-module-method -n {iothub_name} -d {device_id} -m '$edgeAgent' --method-name 'RestartModule' --method-payload '{\"schemaVersion\": \"1.0\"}'"
  requiredParameters:
  - isRequired: true
    name: --device-id -d
    summary: Zielgerät.
    description: ''
  - isRequired: true
    name: --method-name --mn
    summary: Zielmethode für den Aufruf.
    description: ''
  - isRequired: true
    name: --module-id -m
    summary: Zielmodul.
    description: ''
  optionalParameters:
  - name: --hub-name -n
    summary: IoT Hub Name.
    description: ''
  - name: --login -l
    summary: Dieser Befehl unterstützt eine Entitätsverbindungszeichenfolge mit Berechtigungen zum Ausführen von Aktionen. Verwenden Sie , um die Sitzungsanmeldung über "az login" zu vermeiden. Wenn sowohl eine Entitätsverbindungszeichenfolge als auch ein Name angegeben werden, hat die Verbindungszeichenfolge Priorität.
    description: ''
  - name: --method-payload --mp
    defaultValue: '{}'
    summary: Json-Nutzlast, die an die -Methode übergeben werden soll. Muss ein Dateipfad oder ein unformatierter JSON-Code sein.
    description: ''
  - name: --resource-group -g
    summary: Name der Ressourcengruppe Sie können die Standardgruppe mit `az configure --defaults group=<name>` konfigurieren.
    description: ''
  - name: --timeout --to
    defaultValue: "30"
    summary: Maximale Anzahl von Sekunden, die auf das Ergebnis der Gerätemethode gewartet werden soll.
    description: ''
- uid: az_iot_hub_monitor-events
  name: az iot hub monitor-events
  summary: Überwachen von Gerätetelemetriedaten & Nachrichten, die an eine IoT Hub.
  description: >-
    EXPERIMENTAL erfordert Python 3.5+ Dieser Befehl basiert auf dem abhängigen Cython-Paket (uamqp) und kann es bei der ersten Ausführung installieren.

    https://github.com/Azure/azure-uamqp-python.
  syntax: >-
    az iot hub monitor-events [--cg]
                              [--content-type]
                              [--device-id]
                              [--device-query]
                              [--enqueued-time]
                              [--hub-name]
                              [--interface]
                              [--login]
                              [--module-id]
                              [--properties {all, anno, app, sys}]
                              [--repair {false, true}]
                              [--resource-group]
                              [--timeout]
                              [--yes {false, true}]
  examples:
  - summary: Grundlegende Verwendung
    syntax: az iot hub monitor-events -n {iothub_name}
  - summary: Grundlegende Verwendung mit einer IoT Hub Verbindungszeichenfolge
    syntax: az iot hub monitor-events -n {iothub_name} --login 'HostName=myhub.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=12345'
  - summary: Grundlegende Verwendung beim Filtern auf dem Zielgerät
    syntax: az iot hub monitor-events -n {iothub_name} -d {device_id}
  - summary: Grundlegende Verwendung beim Filtern von Zielgeräten mit einem Platzhalter in der ID
    syntax: az iot hub monitor-events -n {iothub_name} -d Device*
  - summary: Filtern von Geräten mit IoT Hub Abfragesprache
    syntax: az iot hub monitor-events -n {iothub_name} -q "select * from devices where tags.location.region = 'US'"
  - summary: Filtern Sie das Gerät, und geben Sie eine Event Hub-Consumergruppe an, an die eine Bindung gebunden werden soll.
    syntax: az iot hub monitor-events -n {iothub_name} -d {device_id} --cg {consumer_group_name}
  - summary: Empfangen von Nachrichtenanmerkungen (Nachrichtenheader)
    syntax: az iot hub monitor-events -n {iothub_name} -d {device_id} --properties anno
  - summary: Empfangen von Nachrichtenanmerkungen und Systemeigenschaften. Es wird nie ein Time out durchgeführt.
    syntax: az iot hub monitor-events -n {iothub_name} -d {device_id} --properties anno sys --timeout 0
  - summary: Empfangen aller Nachrichtenattribute von allen Gerätenachrichten
    syntax: az iot hub monitor-events -n {iothub_name} --props all
  - summary: Empfangen aller Nachrichten und Analysieren der Nachrichtennutzlast als JSON
    syntax: az iot hub monitor-events -n {iothub_name} --content-type application/json
  optionalParameters:
  - name: --cg --consumer-group -c
    defaultValue: $Default
    summary: Geben Sie die Consumergruppe an, die beim Herstellen einer Verbindung mit dem Event Hub-Endpunkt verwendet werden soll.
    description: ''
  - name: --content-type --ct
    summary: Geben Sie den Inhaltstyp der Nachrichtennutzlast an, um die Ausgabe automatisch in diesen Typ zu formatieren.
    description: ''
  - name: --device-id -d
    summary: Zielgerät.
    description: ''
  - name: --device-query -q
    summary: Geben Sie eine benutzerdefinierte Abfrage zum Filtern von Geräten an.
    description: ''
  - name: --enqueued-time --et -e
    summary: Gibt die Zeit an, die als Ausgangspunkt zum Lesen von Nachrichten aus den Partitionen verwendet werden soll. Einheiten sind Millisekunden seit unix-Epoche. Wenn keine Zeit angegeben ist, wird "now" verwendet.
    description: ''
  - name: --hub-name -n
    summary: IoT Hub Name.
    description: ''
  - name: --interface -i
    summary: 'Zielschnittstellenbezeichner, nach dem gefiltert werden soll. Beispiel: csvi:com:example:TemperatureController;1.'
    description: ''
  - name: --login -l
    summary: Dieser Befehl unterstützt eine Entitätsverbindungszeichenfolge mit Berechtigungen zum Ausführen von Aktionen. Verwenden Sie , um die Sitzungsanmeldung über "az login" zu vermeiden. Wenn sowohl eine Entitätsverbindungszeichenfolge als auch ein Name angegeben werden, hat die Verbindungszeichenfolge Priorität.
    description: ''
  - name: --module-id -m
    summary: Zielmodul.
    description: ''
  - name: --properties --props -p
    parameterValueGroup: all, anno, app, sys
    summary: Geben Sie die schlüsselmeldungseigenschaften an, die ausgegeben werden sollen. sys = Systemeigenschaften, app = Anwendungseigenschaften, anno = Anmerkungen.
    description: ''
  - name: --repair -r
    parameterValueGroup: false, true
    summary: 'Installieren Sie die uamqp-Abhängigkeit neu, die mit der Erweiterungsversion kompatibel ist. Standardwert: false.'
    description: ''
  - name: --resource-group -g
    summary: Name der Ressourcengruppe Sie können die Standardgruppe mit `az configure --defaults group=<name>` konfigurieren.
    description: ''
  - name: --timeout --to -t
    defaultValue: "300"
    summary: Maximale Anzahl von Sekunden zum Aufrechterhalten der Verbindung ohne Nachrichtenempfang. Verwenden Sie 0 für unendlich.
    description: ''
  - name: --yes -y
    parameterValueGroup: false, true
    summary: 'Überspringt Benutzereingabeaufforderungen. Gibt die Zustimmung zur Abhängigkeitsinstallation an (falls erforderlich). Wird hauptsächlich für Automatisierungsszenarien verwendet. Standardwert: false.'
    description: ''
- uid: az_iot_hub_monitor-feedback
  name: az iot hub monitor-feedback
  summary: Überwachen Sie Das von Geräten gesendete Feedback, um C2D-Nachrichten (Cloud-to-Device) zu bestätigen.
  description: >-
    EXPERIMENTAL erfordert Python 3.4+ Dieser Befehl basiert auf und kann abhängige Cython-Pakete (uamqp) bei der ersten Ausführung installieren.

    https://github.com/Azure/azure-uamqp-python.
  syntax: >-
    az iot hub monitor-feedback [--device-id]
                                [--hub-name]
                                [--login]
                                [--repair {false, true}]
                                [--resource-group]
                                [--wait-on-msg]
                                [--yes {false, true}]
  examples:
  - summary: Grundlegende Verwendung
    syntax: az iot hub monitor-feedback -n {iothub_name}
  - summary: Grundlegende Verwendung mit einer IoT Hub Verbindungszeichenfolge
    syntax: az iot hub monitor-feedback -n {iothub_name} --login 'HostName=myhub.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=12345'
  - summary: Grundlegende Verwendung beim Filtern auf dem Zielgerät
    syntax: az iot hub monitor-feedback -n {iothub_name} -d {device_id}
  - summary: Exit feedback monitor upon receiving a message with specific id (uuid) (Feedbacküberwachung beenden, wenn eine Nachricht mit einer bestimmten ID (uuid)) empfangen wird
    syntax: az iot hub monitor-feedback -n {iothub_name} -d {device_id} -w {message_id}
  optionalParameters:
  - name: --device-id -d
    summary: Zielgerät.
    description: ''
  - name: --hub-name -n
    summary: IoT Hub Name.
    description: ''
  - name: --login -l
    summary: Dieser Befehl unterstützt eine Entitätsverbindungszeichenfolge mit Rechten zum Ausführen von Aktionen. Verwenden Sie , um die Sitzungsanmeldung über "az login" zu vermeiden. Wenn sowohl eine Entitätsverbindungszeichenfolge als auch ein Name angegeben werden, hat die Verbindungszeichenfolge Priorität.
    description: ''
  - name: --repair -r
    parameterValueGroup: false, true
    summary: 'Installieren Sie die uamqp-Abhängigkeit neu, die mit der Erweiterungsversion kompatibel ist. Standardwert: false.'
    description: ''
  - name: --resource-group -g
    summary: Name der Ressourcengruppe Sie können die Standardgruppe mit `az configure --defaults group=<name>` konfigurieren.
    description: ''
  - name: --wait-on-msg -w
    summary: Der Feedbackmonitor wird blockiert, bis eine Nachricht mit einer bestimmten ID (uuid) empfangen wird.
    description: ''
  - name: --yes -y
    parameterValueGroup: false, true
    summary: 'Überspringen Sie Benutzeraufforderungen. Gibt an, dass die Abhängigkeitsinstallation akzeptiert wird (falls erforderlich). Wird hauptsächlich für Automatisierungsszenarien verwendet. Standardwert: false.'
    description: ''
- uid: az_iot_hub_query
  name: az iot hub query
  summary: Abfragen eines IoT Hub mithilfe einer leistungsstarken SQL-ähnlichen Sprache.
  description: Fragen Sie IoT Hub eine leistungsstarke SQL-orientierte Sprache ab, um Informationen zu Geräte- und Modulz zwillingen, Aufträgen und Nachrichtenrouting abzurufen. Weitere Informationen finden Sie unter https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-query-language.
  syntax: >-
    az iot hub query --query-command
                     [--hub-name]
                     [--login]
                     [--resource-group]
                     [--top]
  examples:
  - summary: Fragen Sie alle Gerätez twin-Daten in einem Azure IoT Hub.
    syntax: az iot hub query -n {iothub_name} -q "select * from devices"
  - summary: Fragen Sie alle Modulz zwillingsdaten auf dem Zielgerät ab.
    syntax: az iot hub query -n {iothub_name} -q "select * from devices.modules where devices.deviceId = '{device_id}'"
  requiredParameters:
  - isRequired: true
    name: --query-command -q
    summary: Auszuführende Benutzerabfrage.
    description: ''
  optionalParameters:
  - name: --hub-name -n
    summary: IoT Hub Name.
    description: ''
  - name: --login -l
    summary: Dieser Befehl unterstützt eine Entitätsverbindungszeichenfolge mit Rechten zum Ausführen von Aktionen. Verwenden Sie , um die Sitzungsanmeldung über "az login" zu vermeiden. Wenn sowohl eine Entitätsverbindungszeichenfolge als auch ein Name angegeben werden, hat die Verbindungszeichenfolge Priorität.
    description: ''
  - name: --resource-group -g
    summary: Name der Ressourcengruppe Sie können die Standardgruppe mit `az configure --defaults group=<name>` konfigurieren.
    description: ''
  - name: --top
    summary: Maximale Anzahl der zurückzugebende Elemente. Standardmäßig verfügt die Abfrage über keine Obergrenze.
    description: ''
commands:
- az_iot_hub_configuration
- az_iot_hub_configuration_create
- az_iot_hub_configuration_delete
- az_iot_hub_configuration_list
- az_iot_hub_configuration_show
- az_iot_hub_configuration_show-metric
- az_iot_hub_configuration_update
- az_iot_hub_connection-string
- az_iot_hub_connection-string_show
- az_iot_hub_device-identity
- az_iot_hub_device-identity_add-children
- az_iot_hub_device-identity_children
- az_iot_hub_device-identity_children_add
- az_iot_hub_device-identity_children_list
- az_iot_hub_device-identity_children_remove
- az_iot_hub_device-identity_connection-string
- az_iot_hub_device-identity_connection-string_show
- az_iot_hub_device-identity_create
- az_iot_hub_device-identity_delete
- az_iot_hub_device-identity_export
- az_iot_hub_device-identity_get-parent
- az_iot_hub_device-identity_import
- az_iot_hub_device-identity_list
- az_iot_hub_device-identity_list-children
- az_iot_hub_device-identity_parent
- az_iot_hub_device-identity_parent_set
- az_iot_hub_device-identity_parent_show
- az_iot_hub_device-identity_remove-children
- az_iot_hub_device-identity_renew-key
- az_iot_hub_device-identity_set-parent
- az_iot_hub_device-identity_show
- az_iot_hub_device-identity_show-connection-string
- az_iot_hub_device-identity_update
- az_iot_hub_device-twin
- az_iot_hub_device-twin_replace
- az_iot_hub_device-twin_show
- az_iot_hub_device-twin_update
- az_iot_hub_digital-twin
- az_iot_hub_digital-twin_invoke-command
- az_iot_hub_digital-twin_show
- az_iot_hub_digital-twin_update
- az_iot_hub_distributed-tracing
- az_iot_hub_distributed-tracing_show
- az_iot_hub_distributed-tracing_update
- az_iot_hub_generate-sas-token
- az_iot_hub_invoke-device-method
- az_iot_hub_invoke-module-method
- az_iot_hub_job
- az_iot_hub_job_cancel
- az_iot_hub_job_create
- az_iot_hub_job_list
- az_iot_hub_job_show
- az_iot_hub_module-identity
- az_iot_hub_module-identity_connection-string
- az_iot_hub_module-identity_connection-string_show
- az_iot_hub_module-identity_create
- az_iot_hub_module-identity_delete
- az_iot_hub_module-identity_list
- az_iot_hub_module-identity_show
- az_iot_hub_module-identity_show-connection-string
- az_iot_hub_module-identity_update
- az_iot_hub_module-twin
- az_iot_hub_module-twin_replace
- az_iot_hub_module-twin_show
- az_iot_hub_module-twin_update
- az_iot_hub_monitor-events
- az_iot_hub_monitor-feedback
- az_iot_hub_query
globalParameters:
- name: --debug
  summary: Ausführlichkeit der Protokollierung erhöhen, um alle Debugprotokolle anzuzeigen.
- name: --help -h
  summary: Zeigen Sie diese Hilfemeldung an, und schließen Sie sie.
- name: --only-show-errors
  summary: Nur Fehler anzeigen und Warnungen unterdrücken.
- name: --output -o
  defaultValue: json
  parameterValueGroup: json, jsonc, table, tsv
  summary: Ausgabeformat.
- name: --query
  summary: JMESPath-Abfragezeichenfolge. Weitere Informationen und Beispiele finden Sie unter <a href="http://jmespath.org/">http://jmespath.org/</a>.
- name: --verbose
  summary: Ausführlichkeit der Protokollierung erhöhen. „--debug“ für vollständige Debugprotokolle verwenden.
metadata:
  description: Verwalten von Entitäten in einer Azure IoT Hub-Instanz
  ms.openlocfilehash: a06885a7faffc41f750b0498307c2fba56043587
  ms.sourcegitcommit: 8464e3b00e33158e3c18654d9b852c8d1fadadd7
  ms.translationtype: MT
  ms.contentlocale: de-DE
  ms.lasthandoff: 05/12/2021
  ms.locfileid: "109776872"
